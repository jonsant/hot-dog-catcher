{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = [\"gamecanvas\"];\nconst _c1 = function (a0, a1, a2) {\n  return {\n    opacity: a0,\n    transform: a1,\n    left: a2\n  };\n};\nfunction HotDogCatcherComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction3(2, _c1, ctx_r1.missedMsgOpacity, \"translateX(-50%) rotate(\" + ctx_r1.missedMsgAngle + \"deg)\", \"calc(50% + \" + ctx_r1.missedMsgOffsetX + \"px)\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.missedMsg, \"\\n\");\n  }\n}\nfunction HotDogCatcherComponent_div_3_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.quitByEscape ? \"Dog quitter!\" : \"You're wasting too many delicious dogs!!\", \" \");\n  }\n}\nfunction HotDogCatcherComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function HotDogCatcherComponent_div_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.startGame());\n    });\n    i0.ɵɵtext(2, \"Let's catch some dogs!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, HotDogCatcherComponent_div_3_div_3_Template, 2, 1, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.gameOver);\n  }\n}\nexport class HotDogCatcherComponent {\n  constructor() {\n    this.quitByEscape = false;\n    this.leftPressed = false;\n    this.rightPressed = false;\n    this.lastMissedMsgIdx = null;\n    this.missedMsgAngle = 0;\n    this.missedMsgOffsetX = 0;\n    this.canvasWidth = 0;\n    this.canvasHeight = 0;\n    // Player hand (bun)\n    this.handWidth = 200;\n    this.handHeight = 200;\n    this.handX = 160;\n    this.handY = 550;\n    this.handSpeed = 4; // Even slower hand movement for precise control\n    // Hot dogs\n    this.hotDogs = [];\n    this.hotDogWidth = 80;\n    this.hotDogHeight = 140;\n    this.hotDogSpeed = 3;\n    this.hotDogInterval = 1200; // ms\n    this.lastHotDogTime = 0;\n    this.score = 0;\n    this.level = 1;\n    this.health = 5;\n    this.animationFrameId = null;\n    this.showPlayButton = true;\n    this.gameStarted = false;\n    this.gameOver = false;\n    this.bunImg = null;\n    this.bunLoaded = false;\n    this.hotDogImg = null;\n    this.hotDogLoaded = false;\n    this.missedCount = 0;\n    this.showMissedMsg = false;\n    this.missedMsg = '';\n    this.missedMsgTimeout = null;\n    this.missedMsgOpacity = 1;\n    this.missedMsgList = [\"Dog catcher? More like dog waster!!!\", \"God! You're wasting delicious dogs!!!\", \"Oh you need practice, for sure!\"];\n    this.gameLoop = () => {\n      if (!this.gameStarted) return;\n      const now = performance.now();\n      if (now - this.lastHotDogTime > this.hotDogInterval) {\n        this.spawnHotDog();\n        this.lastHotDogTime = now;\n      }\n      this.update();\n      this.draw();\n      this.animationFrameId = requestAnimationFrame(this.gameLoop);\n    };\n  }\n  ngOnInit() {\n    // Set canvas size to fill window below toolbar\n    this.setCanvasSize();\n    const canvas = this.canvasRef.nativeElement;\n    this.ctx = canvas.getContext('2d');\n    this.resetGame();\n    // Load bun image\n    this.bunImg = new Image();\n    this.bunImg.src = 'assets/bun.png';\n    this.bunImg.onload = () => {\n      this.bunLoaded = true;\n      // Optionally, redraw if needed\n      this.draw();\n    };\n    // Load hot dog image\n    this.hotDogImg = new Image();\n    this.hotDogImg.src = 'assets/dog.png';\n    this.hotDogImg.onload = () => {\n      this.hotDogLoaded = true;\n      // Optionally, redraw if needed\n      this.draw();\n    };\n  }\n  showRandomMissedMsg() {\n    if (this.missedMsgTimeout) {\n      clearTimeout(this.missedMsgTimeout);\n    }\n    // Prevent message on play screen\n    if (this.showPlayButton) return;\n    let idx;\n    do {\n      idx = Math.floor(Math.random() * this.missedMsgList.length);\n    } while (this.missedMsgList.length > 1 && idx === this.lastMissedMsgIdx);\n    this.lastMissedMsgIdx = idx;\n    this.missedMsg = this.missedMsgList[idx];\n    // Random angle between -10 and 10 degrees\n    this.missedMsgAngle = Math.random() * 20 - 10;\n    // Random horizontal offset between -60 and 60px\n    this.missedMsgOffsetX = Math.floor(Math.random() * 120 - 60);\n    this.showMissedMsg = true;\n    this.missedMsgOpacity = 1;\n    // Fade out over 3 seconds\n    const fadeDuration = 3000;\n    const fadeSteps = 30;\n    let step = 0;\n    const fade = () => {\n      step++;\n      this.missedMsgOpacity = 1 - step / fadeSteps;\n      if (step < fadeSteps) {\n        this.missedMsgTimeout = setTimeout(fade, fadeDuration / fadeSteps);\n      } else {\n        this.showMissedMsg = false;\n        this.missedMsgOpacity = 1;\n      }\n    };\n    fade();\n  }\n  startGame() {\n    this.quitByEscape = false;\n    this.showPlayButton = false;\n    this.gameStarted = true;\n    this.gameOver = false;\n    this.resetGame();\n    this.level = 1;\n    this.hotDogSpeed = 3; // Reset speed on new game\n    this.health = 5;\n    this.missedCount = 0;\n    this.showMissedMsg = false;\n    this.missedMsg = '';\n    this.missedMsgOpacity = 1;\n    this.gameLoop();\n  }\n  resetGame() {\n    this.quitByEscape = false;\n    this.handX = (this.canvasWidth - this.handWidth) / 2;\n    this.hotDogs = [];\n    this.score = 0;\n    this.level = 1;\n    this.hotDogSpeed = 3;\n    this.health = 5;\n    this.missedCount = 0;\n    this.showMissedMsg = false;\n    this.missedMsg = '';\n    this.missedMsgOpacity = 1;\n    this.lastHotDogTime = performance.now();\n    // Clear canvas\n    if (this.ctx) {\n      this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n    }\n  }\n  onKeyDown(event) {\n    if (event.key === 'ArrowLeft') {\n      this.leftPressed = true;\n    } else if (event.key === 'ArrowRight') {\n      this.rightPressed = true;\n    } else if (event.key === 'Escape') {\n      if (this.gameStarted && !this.gameOver) {\n        this.quitByEscape = true;\n        this.gameOver = true;\n        this.gameStarted = false;\n        this.showPlayButton = true;\n        if (this.animationFrameId) {\n          cancelAnimationFrame(this.animationFrameId);\n          this.animationFrameId = null;\n        }\n        this.draw();\n      }\n    }\n  }\n  onKeyUp(event) {\n    if (event.key === 'ArrowLeft') {\n      this.leftPressed = false;\n    } else if (event.key === 'ArrowRight') {\n      this.rightPressed = false;\n    }\n  }\n  onMouseMove(event) {\n    const rect = this.canvasRef.nativeElement.getBoundingClientRect();\n    const mouseX = event.clientX - rect.left;\n    this.handX = Math.max(0, Math.min(this.canvasWidth - this.handWidth, mouseX - this.handWidth / 2));\n  }\n  onResize() {\n    this.setCanvasSize();\n    this.resetGame();\n  }\n  setCanvasSize() {\n    // 60px toolbar height\n    this.canvasWidth = window.innerWidth;\n    this.canvasHeight = window.innerHeight - 60;\n    if (this.canvasRef && this.canvasRef.nativeElement) {\n      this.canvasRef.nativeElement.width = this.canvasWidth;\n      this.canvasRef.nativeElement.height = this.canvasHeight;\n    }\n    // Adjust hand position to bottom\n    this.handY = this.canvasHeight - this.handHeight * 0.94;\n    // Ensure hand stays in bounds if resized\n    this.handX = Math.max(0, Math.min(this.handX, this.canvasWidth - this.handWidth));\n  }\n  spawnHotDog() {\n    // Start hot dog above the visible area\n    const x = Math.random() * (this.canvasWidth - this.hotDogWidth);\n    this.hotDogs.push({\n      x,\n      y: -this.hotDogHeight,\n      width: this.hotDogWidth,\n      height: this.hotDogHeight,\n      speed: this.hotDogSpeed\n    });\n  }\n  update() {\n    // Smooth hand movement\n    if (this.leftPressed) {\n      this.handX = Math.max(0, this.handX - this.handSpeed);\n    }\n    if (this.rightPressed) {\n      this.handX = Math.min(this.canvasWidth - this.handWidth, this.handX + this.handSpeed);\n    }\n    // Smooth hand movement\n    if (this.leftPressed) {\n      this.handX = Math.max(0, this.handX - this.handSpeed);\n    }\n    if (this.rightPressed) {\n      this.handX = Math.min(this.canvasWidth - this.handWidth, this.handX + this.handSpeed);\n    }\n    // Move hot dogs\n    for (const hotDog of this.hotDogs) {\n      hotDog.y += hotDog.speed;\n    }\n    // Check for catches\n    this.hotDogs = this.hotDogs.filter(hd => {\n      const handTop = this.handY + this.handHeight * 0.6;\n      if (hd.y + hd.height >= handTop && hd.x + hd.width > this.handX && hd.x < this.handX + this.handWidth) {\n        this.score += 10;\n        // Level up every 10 catches\n        const newLevel = Math.floor(this.score / 100) + 1;\n        if (newLevel > this.level) {\n          this.level = newLevel;\n          this.hotDogSpeed += 0.7; // Increase speed each level\n          this.health += 1; // Increase health by one for each level up\n          if (this.level % 2 === 0) {\n            this.handSpeed += 0.5; // Slightly increase hand speed every second level\n          }\n        }\n\n        return false;\n      }\n      // Remove if off screen, lose health\n      if (hd.y >= this.canvasHeight) {\n        this.health = Math.max(0, this.health - 1);\n        this.missedCount++;\n        if (this.missedCount % 2 === 0) {\n          this.showRandomMissedMsg();\n        }\n        if (this.health === 0 && !this.gameOver) {\n          this.endGame();\n        }\n        return false;\n      }\n      return true;\n    });\n  }\n  endGame() {\n    this.quitByEscape = false;\n    this.gameOver = true;\n    this.gameStarted = false;\n    this.showPlayButton = true;\n    // Stop animation loop\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId);\n      this.animationFrameId = null;\n    }\n    this.draw();\n  }\n  draw() {\n    // Show game over message if needed\n    if (this.gameOver && this.showPlayButton) {\n      this.ctx.save();\n      this.ctx.font = \"bold 48px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\n      this.ctx.textAlign = 'center';\n      this.ctx.textBaseline = 'middle';\n      this.ctx.shadowColor = '#fff7e0';\n      this.ctx.shadowBlur = 8;\n      this.ctx.fillStyle = '#e74c3c';\n      const msg = this.quitByEscape ? 'Dog quitter!' : 'Too many delicious dogs were wasted!';\n      this.ctx.fillText(msg, this.canvasWidth / 2, this.canvasHeight / 2 - 40);\n      this.ctx.restore();\n    }\n    // Draw sky blue gradient background\n    const skyGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasHeight);\n    skyGradient.addColorStop(0, '#87ceeb'); // Sky blue top\n    skyGradient.addColorStop(1, '#b3e0ff'); // Lighter blue bottom\n    this.ctx.fillStyle = skyGradient;\n    this.ctx.fillRect(0, 0, this.canvasWidth, this.canvasHeight);\n    // Draw hand (bun)\n    if (this.bunLoaded && this.bunImg) {\n      this.ctx.drawImage(this.bunImg, this.handX, this.handY, this.handWidth, this.handHeight);\n    } else {\n      this.ctx.fillStyle = '#deb887';\n      this.ctx.fillRect(this.handX, this.handY, this.handWidth, this.handHeight);\n    }\n    // Draw hot dogs\n    for (const hotDog of this.hotDogs) {\n      if (this.hotDogLoaded && this.hotDogImg) {\n        this.ctx.drawImage(this.hotDogImg, hotDog.x, hotDog.y, hotDog.width, hotDog.height);\n      } else {\n        this.ctx.fillStyle = '#c1440e';\n        this.ctx.fillRect(hotDog.x, hotDog.y, hotDog.width, hotDog.height);\n      }\n    }\n    // Draw score\n    this.ctx.fillStyle = '#222';\n    this.ctx.font = \"bold 28px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\n    this.ctx.textBaseline = 'top';\n    this.ctx.shadowColor = '#fff7e0';\n    this.ctx.shadowBlur = 0;\n    this.ctx.shadowOffsetX = 1;\n    this.ctx.shadowOffsetY = 2;\n    this.ctx.fillText('Score: ' + this.score, 10, 20);\n    this.ctx.shadowColor = '#cdaa7d';\n    this.ctx.shadowOffsetX = 2;\n    this.ctx.shadowOffsetY = 3;\n    // Draw level below score\n    this.ctx.font = \"bold 22px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\n    this.ctx.fillText('Level: ' + this.level, 10, 55);\n    // Draw health below level\n    this.ctx.font = \"bold 22px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\n    this.ctx.shadowColor = '#e74c3c';\n    this.ctx.shadowOffsetX = 1;\n    this.ctx.shadowOffsetY = 2;\n    this.ctx.fillStyle = '#e74c3c';\n    this.ctx.fillText('Health: ' + this.health, 10, 85);\n    // Reset shadow\n    this.ctx.shadowColor = 'transparent';\n    this.ctx.shadowOffsetX = 0;\n    this.ctx.shadowOffsetY = 0;\n    // ...existing code...\n  }\n\n  ngOnDestroy() {\n    this.gameStarted = false;\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId);\n    }\n  }\n  static {\n    this.ɵfac = function HotDogCatcherComponent_Factory(t) {\n      return new (t || HotDogCatcherComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HotDogCatcherComponent,\n      selectors: [[\"app-hot-dog-catcher\"]],\n      viewQuery: function HotDogCatcherComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvasRef = _t.first);\n        }\n      },\n      hostBindings: function HotDogCatcherComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"keydown\", function HotDogCatcherComponent_keydown_HostBindingHandler($event) {\n            return ctx.onKeyDown($event);\n          }, false, i0.ɵɵresolveWindow)(\"keyup\", function HotDogCatcherComponent_keyup_HostBindingHandler($event) {\n            return ctx.onKeyUp($event);\n          }, false, i0.ɵɵresolveWindow)(\"mousemove\", function HotDogCatcherComponent_mousemove_HostBindingHandler($event) {\n            return ctx.onMouseMove($event);\n          }, false, i0.ɵɵresolveWindow)(\"resize\", function HotDogCatcherComponent_resize_HostBindingHandler() {\n            return ctx.onResize();\n          }, false, i0.ɵɵresolveWindow);\n        }\n      },\n      decls: 4,\n      vars: 4,\n      consts: [[\"tabindex\", \"0\", 2, \"border\", \"1px solid #333\", \"background\", \"#f5f5f5\", \"display\", \"block\", \"margin\", \"auto\"], [\"gamecanvas\", \"\"], [\"class\", \"missed-msg\", 3, \"ngStyle\", 4, \"ngIf\"], [\"class\", \"play-btn-container\", 4, \"ngIf\"], [1, \"missed-msg\", 3, \"ngStyle\"], [1, \"play-btn-container\"], [1, \"play-btn\", 3, \"click\"], [\"class\", \"game-over-msg\", 4, \"ngIf\"], [1, \"game-over-msg\"]],\n      template: function HotDogCatcherComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"canvas\", 0, 1);\n          i0.ɵɵtemplate(2, HotDogCatcherComponent_div_2_Template, 2, 6, \"div\", 2);\n          i0.ɵɵtemplate(3, HotDogCatcherComponent_div_3_Template, 4, 1, \"div\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵattribute(\"width\", ctx.canvasWidth)(\"height\", ctx.canvasHeight);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.showMissedMsg && !ctx.showPlayButton);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showPlayButton);\n        }\n      },\n      dependencies: [i1.NgIf, i1.NgStyle],\n      styles: [\"canvas[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 60px;\\n  \\n\\n  left: 0;\\n  width: 100vw !important;\\n  height: calc(100vh - 60px) !important;\\n  max-width: 100vw;\\n  max-height: calc(100vh - 60px);\\n  border: none !important;\\n  background: linear-gradient(to bottom, #87ceeb 0%, #b3e0ff 100%);\\n  display: block;\\n  margin: 0;\\n  z-index: 1;\\n}\\n\\n.toolbar[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 60px;\\n  z-index: 10;\\n}\\n\\nbody[_ngcontent-%COMP%], html[_ngcontent-%COMP%], [_nghost-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  overflow: hidden;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  display: initial;\\n}\\n\\n.play-btn-container[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: calc(100vh - 60px);\\n  z-index: 20;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.play-btn[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  padding: 1.2rem 3.5rem;\\n  background: #deb887;\\n  color: #333;\\n  border: none;\\n  border-radius: 12px;\\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.18);\\n  cursor: pointer;\\n  transition: background 0.2s;\\n  outline: none;\\n  font-family: \\\"Comic Sans MS\\\", \\\"Comic Sans\\\", \\\"Chalkboard SE\\\", \\\"Comic Neue\\\", cursive, sans-serif;\\n  letter-spacing: 2px;\\n  text-shadow: 1px 2px 0 #fff7e0, 2px 3px 0 #cdaa7d;\\n}\\n\\n.play-btn[_ngcontent-%COMP%]:hover {\\n  background: #cdaa7d;\\n}\\n\\n.game-over-msg[_ngcontent-%COMP%] {\\n  font-family: \\\"Comic Sans MS\\\", \\\"Comic Sans\\\", \\\"Chalkboard SE\\\", \\\"Comic Neue\\\", cursive, sans-serif;\\n  font-size: 2.2rem;\\n  color: #c1440e;\\n  text-align: center;\\n  margin-bottom: 2.5rem;\\n  margin-top: -10rem;\\n  \\n\\n  text-shadow: 2px 4px 0 #fff7e0, 3px 6px 0 #cdaa7d;\\n  font-weight: bold;\\n}\\n\\n.missed-msg[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 70px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  font-family: \\\"Comic Sans MS\\\", \\\"Comic Sans\\\", \\\"Chalkboard SE\\\", \\\"Comic Neue\\\", cursive, sans-serif;\\n  font-size: 2rem;\\n  color: #c1440e;\\n  background: none;\\n  border-radius: 16px;\\n  padding: 0.7rem 2.2rem;\\n  text-shadow: 1px 2px 0 #fff7e0, 2px 3px 0 #cdaa7d;\\n  z-index: 30;\\n  pointer-events: none;\\n  text-align: center;\\n  font-weight: bold;\\n  transition: opacity 0.3s linear;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG90LWRvZy1jYXRjaGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxTQUFBO0VBQ0Esc0JBQUE7RUFDQSxPQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQ0FBQTtFQUNBLGdCQUFBO0VBQ0EsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdFQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFDSjs7QUFFQTs7O0VBR0ksU0FBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFlBQUE7RUFDQSwwQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSwwQ0FBQTtFQUNBLGVBQUE7RUFDQSwyQkFBQTtFQUNBLGFBQUE7RUFDQSw4RkFBQTtFQUNBLG1CQUFBO0VBQ0EsaURBQUE7QUFDSjs7QUFFQTtFQUNJLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSw4RkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLHNEQUFBO0VBQ0EsaURBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSw4RkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsaURBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsK0JBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNhbnZhcyB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDYwcHg7XHJcbiAgICAvKiBoZWlnaHQgb2YgdG9vbGJhciAqL1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDB2dyAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCkgIWltcG9ydGFudDtcclxuICAgIG1heC13aWR0aDogMTAwdnc7XHJcbiAgICBtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7XHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICM4N2NlZWIgMCUsICNiM2UwZmYgMTAwJSk7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHotaW5kZXg6IDE7XHJcbn1cclxuXHJcbi50b29sYmFyIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIGhlaWdodDogNjBweDtcclxuICAgIHotaW5kZXg6IDEwO1xyXG59XHJcblxyXG5ib2R5LFxyXG5odG1sLFxyXG46aG9zdCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgd2lkdGg6IDEwMHZ3O1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgICBkaXNwbGF5OiBpbml0aWFsO1xyXG59XHJcblxyXG4ucGxheS1idG4tY29udGFpbmVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwdnc7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2MHB4KTtcclxuICAgIHotaW5kZXg6IDIwO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5wbGF5LWJ0biB7XHJcbiAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICBwYWRkaW5nOiAxLjJyZW0gMy41cmVtO1xyXG4gICAgYmFja2dyb3VuZDogI2RlYjg4NztcclxuICAgIGNvbG9yOiAjMzMzO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDE2cHggcmdiYSgwLCAwLCAwLCAwLjE4KTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycztcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBmb250LWZhbWlseTogJ0NvbWljIFNhbnMgTVMnLCAnQ29taWMgU2FucycsICdDaGFsa2JvYXJkIFNFJywgJ0NvbWljIE5ldWUnLCBjdXJzaXZlLCBzYW5zLXNlcmlmO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDJweDtcclxuICAgIHRleHQtc2hhZG93OiAxcHggMnB4IDAgI2ZmZjdlMCwgMnB4IDNweCAwICNjZGFhN2Q7XHJcbn1cclxuXHJcbi5wbGF5LWJ0bjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjY2RhYTdkO1xyXG59XHJcblxyXG4uZ2FtZS1vdmVyLW1zZyB7XHJcbiAgICBmb250LWZhbWlseTogJ0NvbWljIFNhbnMgTVMnLCAnQ29taWMgU2FucycsICdDaGFsa2JvYXJkIFNFJywgJ0NvbWljIE5ldWUnLCBjdXJzaXZlLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiAyLjJyZW07XHJcbiAgICBjb2xvcjogI2MxNDQwZTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDIuNXJlbTtcclxuICAgIG1hcmdpbi10b3A6IC0xMHJlbTtcclxuICAgIC8qIE1vdmUgdGhlIG1lc3NhZ2UgZnVydGhlciB1cCBhYm92ZSB0aGUgcGxheSBidXR0b24gKi9cclxuICAgIHRleHQtc2hhZG93OiAycHggNHB4IDAgI2ZmZjdlMCwgM3B4IDZweCAwICNjZGFhN2Q7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuLm1pc3NlZC1tc2cge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiA3MHB4O1xyXG4gICAgbGVmdDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xyXG4gICAgZm9udC1mYW1pbHk6ICdDb21pYyBTYW5zIE1TJywgJ0NvbWljIFNhbnMnLCAnQ2hhbGtib2FyZCBTRScsICdDb21pYyBOZXVlJywgY3Vyc2l2ZSwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogMnJlbTtcclxuICAgIGNvbG9yOiAjYzE0NDBlO1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgICBwYWRkaW5nOiAwLjdyZW0gMi4ycmVtO1xyXG4gICAgdGV4dC1zaGFkb3c6IDFweCAycHggMCAjZmZmN2UwLCAycHggM3B4IDAgI2NkYWE3ZDtcclxuICAgIHotaW5kZXg6IDMwO1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBsaW5lYXI7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction3","_c1","ctx_r1","missedMsgOpacity","missedMsgAngle","missedMsgOffsetX","ɵɵadvance","ɵɵtextInterpolate1","missedMsg","ctx_r3","quitByEscape","ɵɵlistener","HotDogCatcherComponent_div_3_Template_button_click_1_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","startGame","ɵɵtemplate","HotDogCatcherComponent_div_3_div_3_Template","ctx_r2","gameOver","HotDogCatcherComponent","constructor","leftPressed","rightPressed","lastMissedMsgIdx","canvasWidth","canvasHeight","handWidth","handHeight","handX","handY","handSpeed","hotDogs","hotDogWidth","hotDogHeight","hotDogSpeed","hotDogInterval","lastHotDogTime","score","level","health","animationFrameId","showPlayButton","gameStarted","bunImg","bunLoaded","hotDogImg","hotDogLoaded","missedCount","showMissedMsg","missedMsgTimeout","missedMsgList","gameLoop","now","performance","spawnHotDog","update","draw","requestAnimationFrame","ngOnInit","setCanvasSize","canvas","canvasRef","nativeElement","ctx","getContext","resetGame","Image","src","onload","showRandomMissedMsg","clearTimeout","idx","Math","floor","random","length","fadeDuration","fadeSteps","step","fade","setTimeout","clearRect","onKeyDown","event","key","cancelAnimationFrame","onKeyUp","onMouseMove","rect","getBoundingClientRect","mouseX","clientX","left","max","min","onResize","window","innerWidth","innerHeight","width","height","x","push","y","speed","hotDog","filter","hd","handTop","newLevel","endGame","save","font","textAlign","textBaseline","shadowColor","shadowBlur","fillStyle","msg","fillText","restore","skyGradient","createLinearGradient","addColorStop","fillRect","drawImage","shadowOffsetX","shadowOffsetY","ngOnDestroy","selectors","viewQuery","HotDogCatcherComponent_Query","rf","$event","ɵɵresolveWindow","HotDogCatcherComponent_keyup_HostBindingHandler","HotDogCatcherComponent_mousemove_HostBindingHandler","HotDogCatcherComponent_resize_HostBindingHandler","ɵɵelement","HotDogCatcherComponent_div_2_Template","HotDogCatcherComponent_div_3_Template","ɵɵattribute"],"sources":["C:\\Users\\Anton\\source\\repos\\dog-catcher\\src\\app\\hot-dog-catcher.component.ts","C:\\Users\\Anton\\source\\repos\\dog-catcher\\src\\app\\hot-dog-catcher.component.html"],"sourcesContent":["import { Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\r\n\r\ninterface HotDog {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n    speed: number;\r\n}\r\n\r\n@Component({\r\n    selector: 'app-hot-dog-catcher',\r\n    templateUrl: './hot-dog-catcher.component.html',\r\n    styleUrls: ['./hot-dog-catcher.component.scss']\r\n})\r\nexport class HotDogCatcherComponent implements OnInit {\r\n    quitByEscape = false;\r\n    leftPressed = false;\r\n    rightPressed = false;\r\n    lastMissedMsgIdx: number | null = null;\r\n    missedMsgAngle = 0;\r\n    missedMsgOffsetX = 0;\r\n    @ViewChild('gamecanvas', { static: true }) canvasRef!: ElementRef<HTMLCanvasElement>;\r\n    ctx!: CanvasRenderingContext2D;\r\n\r\n    canvasWidth = 0;\r\n    canvasHeight = 0;\r\n\r\n    // Player hand (bun)\r\n    handWidth = 200;\r\n    handHeight = 200;\r\n    handX = 160;\r\n    handY = 550;\r\n    handSpeed = 4; // Even slower hand movement for precise control\r\n\r\n    // Hot dogs\r\n    hotDogs: HotDog[] = [];\r\n    hotDogWidth = 80;\r\n    hotDogHeight = 140;\r\n    hotDogSpeed = 3;\r\n    hotDogInterval = 1200; // ms\r\n    lastHotDogTime = 0;\r\n\r\n    score = 0;\r\n    level = 1;\r\n    health = 5;\r\n    animationFrameId: number | null = null;\r\n\r\n    showPlayButton = true;\r\n    gameStarted = false;\r\n    gameOver = false;\r\n\r\n    bunImg: HTMLImageElement | null = null;\r\n    bunLoaded = false;\r\n    hotDogImg: HTMLImageElement | null = null;\r\n    hotDogLoaded = false;\r\n\r\n    missedCount = 0;\r\n    showMissedMsg = false;\r\n    missedMsg = '';\r\n    missedMsgTimeout: any = null;\r\n    missedMsgOpacity = 1;\r\n    missedMsgList = [\r\n        \"Dog catcher? More like dog waster!!!\",\r\n        \"God! You're wasting delicious dogs!!!\",\r\n        \"Oh you need practice, for sure!\"\r\n    ];\r\n\r\n    ngOnInit() {\r\n        // Set canvas size to fill window below toolbar\r\n        this.setCanvasSize();\r\n        const canvas = this.canvasRef.nativeElement;\r\n        this.ctx = canvas.getContext('2d')!;\r\n        this.resetGame();\r\n        // Load bun image\r\n        this.bunImg = new Image();\r\n        this.bunImg.src = 'assets/bun.png';\r\n        this.bunImg.onload = () => {\r\n            this.bunLoaded = true;\r\n            // Optionally, redraw if needed\r\n            this.draw();\r\n        };\r\n        // Load hot dog image\r\n        this.hotDogImg = new Image();\r\n        this.hotDogImg.src = 'assets/dog.png';\r\n        this.hotDogImg.onload = () => {\r\n            this.hotDogLoaded = true;\r\n            // Optionally, redraw if needed\r\n            this.draw();\r\n        };\r\n    }\r\n\r\n    showRandomMissedMsg() {\r\n        if (this.missedMsgTimeout) {\r\n            clearTimeout(this.missedMsgTimeout);\r\n        }\r\n        // Prevent message on play screen\r\n        if (this.showPlayButton) return;\r\n        let idx: number;\r\n        do {\r\n            idx = Math.floor(Math.random() * this.missedMsgList.length);\r\n        } while (this.missedMsgList.length > 1 && idx === this.lastMissedMsgIdx);\r\n        this.lastMissedMsgIdx = idx;\r\n        this.missedMsg = this.missedMsgList[idx];\r\n        // Random angle between -10 and 10 degrees\r\n        this.missedMsgAngle = (Math.random() * 20 - 10);\r\n        // Random horizontal offset between -60 and 60px\r\n        this.missedMsgOffsetX = Math.floor(Math.random() * 120 - 60);\r\n        this.showMissedMsg = true;\r\n        this.missedMsgOpacity = 1;\r\n        // Fade out over 3 seconds\r\n        const fadeDuration = 3000;\r\n        const fadeSteps = 30;\r\n        let step = 0;\r\n        const fade = () => {\r\n            step++;\r\n            this.missedMsgOpacity = 1 - step / fadeSteps;\r\n            if (step < fadeSteps) {\r\n                this.missedMsgTimeout = setTimeout(fade, fadeDuration / fadeSteps);\r\n            } else {\r\n                this.showMissedMsg = false;\r\n                this.missedMsgOpacity = 1;\r\n            }\r\n        };\r\n        fade();\r\n    }\r\n\r\n    startGame() {\r\n        this.quitByEscape = false;\r\n        this.showPlayButton = false;\r\n        this.gameStarted = true;\r\n        this.gameOver = false;\r\n        this.resetGame();\r\n        this.level = 1;\r\n        this.hotDogSpeed = 3; // Reset speed on new game\r\n        this.health = 5;\r\n        this.missedCount = 0;\r\n        this.showMissedMsg = false;\r\n        this.missedMsg = '';\r\n        this.missedMsgOpacity = 1;\r\n        this.gameLoop();\r\n    }\r\n\r\n    resetGame() {\r\n        this.quitByEscape = false;\r\n        this.handX = (this.canvasWidth - this.handWidth) / 2;\r\n        this.hotDogs = [];\r\n        this.score = 0;\r\n        this.level = 1;\r\n        this.hotDogSpeed = 3;\r\n        this.health = 5;\r\n        this.missedCount = 0;\r\n        this.showMissedMsg = false;\r\n        this.missedMsg = '';\r\n        this.missedMsgOpacity = 1;\r\n        this.lastHotDogTime = performance.now();\r\n        // Clear canvas\r\n        if (this.ctx) {\r\n            this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keydown', ['$event'])\r\n    onKeyDown(event: KeyboardEvent) {\r\n        if (event.key === 'ArrowLeft') {\r\n            this.leftPressed = true;\r\n        } else if (event.key === 'ArrowRight') {\r\n            this.rightPressed = true;\r\n        } else if (event.key === 'Escape') {\r\n            if (this.gameStarted && !this.gameOver) {\r\n                this.quitByEscape = true;\r\n                this.gameOver = true;\r\n                this.gameStarted = false;\r\n                this.showPlayButton = true;\r\n                if (this.animationFrameId) {\r\n                    cancelAnimationFrame(this.animationFrameId);\r\n                    this.animationFrameId = null;\r\n                }\r\n                this.draw();\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keyup', ['$event'])\r\n    onKeyUp(event: KeyboardEvent) {\r\n        if (event.key === 'ArrowLeft') {\r\n            this.leftPressed = false;\r\n        } else if (event.key === 'ArrowRight') {\r\n            this.rightPressed = false;\r\n        }\r\n    }\r\n\r\n    @HostListener('window:mousemove', ['$event'])\r\n    onMouseMove(event: MouseEvent) {\r\n        const rect = this.canvasRef.nativeElement.getBoundingClientRect();\r\n        const mouseX = event.clientX - rect.left;\r\n        this.handX = Math.max(0, Math.min(this.canvasWidth - this.handWidth, mouseX - this.handWidth / 2));\r\n    }\r\n\r\n    @HostListener('window:resize')\r\n    onResize() {\r\n        this.setCanvasSize();\r\n        this.resetGame();\r\n    }\r\n\r\n    setCanvasSize() {\r\n        // 60px toolbar height\r\n        this.canvasWidth = window.innerWidth;\r\n        this.canvasHeight = window.innerHeight - 60;\r\n        if (this.canvasRef && this.canvasRef.nativeElement) {\r\n            this.canvasRef.nativeElement.width = this.canvasWidth;\r\n            this.canvasRef.nativeElement.height = this.canvasHeight;\r\n        }\r\n        // Adjust hand position to bottom\r\n        this.handY = this.canvasHeight - this.handHeight * 0.94;\r\n        // Ensure hand stays in bounds if resized\r\n        this.handX = Math.max(0, Math.min(this.handX, this.canvasWidth - this.handWidth));\r\n    }\r\n\r\n    spawnHotDog() {\r\n        // Start hot dog above the visible area\r\n        const x = Math.random() * (this.canvasWidth - this.hotDogWidth);\r\n        this.hotDogs.push({\r\n            x,\r\n            y: -this.hotDogHeight, // Start above the top\r\n            width: this.hotDogWidth,\r\n            height: this.hotDogHeight,\r\n            speed: this.hotDogSpeed\r\n        });\r\n    }\r\n\r\n    gameLoop = () => {\r\n        if (!this.gameStarted) return;\r\n        const now = performance.now();\r\n        if (now - this.lastHotDogTime > this.hotDogInterval) {\r\n            this.spawnHotDog();\r\n            this.lastHotDogTime = now;\r\n        }\r\n        this.update();\r\n        this.draw();\r\n        this.animationFrameId = requestAnimationFrame(this.gameLoop);\r\n    };\r\n\r\n    update() {\r\n        // Smooth hand movement\r\n        if (this.leftPressed) {\r\n            this.handX = Math.max(0, this.handX - this.handSpeed);\r\n        }\r\n        if (this.rightPressed) {\r\n            this.handX = Math.min(this.canvasWidth - this.handWidth, this.handX + this.handSpeed);\r\n        }\r\n        // Smooth hand movement\r\n        if (this.leftPressed) {\r\n            this.handX = Math.max(0, this.handX - this.handSpeed);\r\n        }\r\n        if (this.rightPressed) {\r\n            this.handX = Math.min(this.canvasWidth - this.handWidth, this.handX + this.handSpeed);\r\n        }\r\n        // Move hot dogs\r\n        for (const hotDog of this.hotDogs) {\r\n            hotDog.y += hotDog.speed;\r\n        }\r\n        // Check for catches\r\n        this.hotDogs = this.hotDogs.filter(hd => {\r\n            const handTop = this.handY + this.handHeight * 0.6;\r\n            if (\r\n                hd.y + hd.height >= handTop &&\r\n                hd.x + hd.width > this.handX &&\r\n                hd.x < this.handX + this.handWidth\r\n            ) {\r\n                this.score += 10;\r\n                // Level up every 10 catches\r\n                const newLevel = Math.floor(this.score / 100) + 1;\r\n                if (newLevel > this.level) {\r\n                    this.level = newLevel;\r\n                    this.hotDogSpeed += 0.7; // Increase speed each level\r\n                    this.health += 1; // Increase health by one for each level up\r\n                    if (this.level % 2 === 0) {\r\n                        this.handSpeed += 0.5; // Slightly increase hand speed every second level\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n            // Remove if off screen, lose health\r\n            if (hd.y >= this.canvasHeight) {\r\n                this.health = Math.max(0, this.health - 1);\r\n                this.missedCount++;\r\n                if (this.missedCount % 2 === 0) {\r\n                    this.showRandomMissedMsg();\r\n                }\r\n                if (this.health === 0 && !this.gameOver) {\r\n                    this.endGame();\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n\r\n    endGame() {\r\n        this.quitByEscape = false;\r\n        this.gameOver = true;\r\n        this.gameStarted = false;\r\n        this.showPlayButton = true;\r\n        // Stop animation loop\r\n        if (this.animationFrameId) {\r\n            cancelAnimationFrame(this.animationFrameId);\r\n            this.animationFrameId = null;\r\n        }\r\n        this.draw();\r\n    }\r\n\r\n    draw() {\r\n        // Show game over message if needed\r\n        if (this.gameOver && this.showPlayButton) {\r\n            this.ctx.save();\r\n            this.ctx.font = \"bold 48px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\r\n            this.ctx.textAlign = 'center';\r\n            this.ctx.textBaseline = 'middle';\r\n            this.ctx.shadowColor = '#fff7e0';\r\n            this.ctx.shadowBlur = 8;\r\n            this.ctx.fillStyle = '#e74c3c';\r\n            const msg = this.quitByEscape ? 'Dog quitter!' : 'Too many delicious dogs were wasted!';\r\n            this.ctx.fillText(msg, this.canvasWidth / 2, this.canvasHeight / 2 - 40);\r\n            this.ctx.restore();\r\n        }\r\n        // Draw sky blue gradient background\r\n        const skyGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasHeight);\r\n        skyGradient.addColorStop(0, '#87ceeb'); // Sky blue top\r\n        skyGradient.addColorStop(1, '#b3e0ff'); // Lighter blue bottom\r\n        this.ctx.fillStyle = skyGradient;\r\n        this.ctx.fillRect(0, 0, this.canvasWidth, this.canvasHeight);\r\n        // Draw hand (bun)\r\n        if (this.bunLoaded && this.bunImg) {\r\n            this.ctx.drawImage(this.bunImg, this.handX, this.handY, this.handWidth, this.handHeight);\r\n        } else {\r\n            this.ctx.fillStyle = '#deb887';\r\n            this.ctx.fillRect(this.handX, this.handY, this.handWidth, this.handHeight);\r\n        }\r\n        // Draw hot dogs\r\n        for (const hotDog of this.hotDogs) {\r\n            if (this.hotDogLoaded && this.hotDogImg) {\r\n                this.ctx.drawImage(this.hotDogImg, hotDog.x, hotDog.y, hotDog.width, hotDog.height);\r\n            } else {\r\n                this.ctx.fillStyle = '#c1440e';\r\n                this.ctx.fillRect(hotDog.x, hotDog.y, hotDog.width, hotDog.height);\r\n            }\r\n        }\r\n        // Draw score\r\n        this.ctx.fillStyle = '#222';\r\n        this.ctx.font = \"bold 28px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\r\n        this.ctx.textBaseline = 'top';\r\n        this.ctx.shadowColor = '#fff7e0';\r\n        this.ctx.shadowBlur = 0;\r\n        this.ctx.shadowOffsetX = 1;\r\n        this.ctx.shadowOffsetY = 2;\r\n        this.ctx.fillText('Score: ' + this.score, 10, 20);\r\n        this.ctx.shadowColor = '#cdaa7d';\r\n        this.ctx.shadowOffsetX = 2;\r\n        this.ctx.shadowOffsetY = 3;\r\n        // Draw level below score\r\n        this.ctx.font = \"bold 22px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\r\n        this.ctx.fillText('Level: ' + this.level, 10, 55);\r\n        // Draw health below level\r\n        this.ctx.font = \"bold 22px 'Comic Sans MS', 'Comic Sans', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif\";\r\n        this.ctx.shadowColor = '#e74c3c';\r\n        this.ctx.shadowOffsetX = 1;\r\n        this.ctx.shadowOffsetY = 2;\r\n        this.ctx.fillStyle = '#e74c3c';\r\n        this.ctx.fillText('Health: ' + this.health, 10, 85);\r\n        // Reset shadow\r\n        this.ctx.shadowColor = 'transparent';\r\n        this.ctx.shadowOffsetX = 0;\r\n        this.ctx.shadowOffsetY = 0;\r\n        // ...existing code...\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.gameStarted = false;\r\n        if (this.animationFrameId) {\r\n            cancelAnimationFrame(this.animationFrameId);\r\n        }\r\n    }\r\n}\r\n","<canvas #gamecanvas [attr.width]=\"canvasWidth\" [attr.height]=\"canvasHeight\" tabindex=\"0\"\r\n    style=\"border:1px solid #333; background:#f5f5f5; display:block; margin:auto;\"></canvas>\r\n<div *ngIf=\"showMissedMsg && !showPlayButton\" class=\"missed-msg\"\r\n    [ngStyle]=\"{ opacity: missedMsgOpacity, transform: 'translateX(-50%) rotate(' + missedMsgAngle + 'deg)', left: 'calc(50% + ' + missedMsgOffsetX + 'px)' }\">\r\n    {{ missedMsg }}\r\n</div>\r\n<div *ngIf=\"showPlayButton\" class=\"play-btn-container\">\r\n    <button class=\"play-btn\" (click)=\"startGame()\">Let's catch some dogs!</button>\r\n    <div *ngIf=\"gameOver\" class=\"game-over-msg\">\r\n        {{ quitByEscape ? 'Dog quitter!' : 'You\\'re wasting too many delicious dogs!!' }}\r\n    </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}